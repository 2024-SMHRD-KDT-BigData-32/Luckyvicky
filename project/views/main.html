<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=375, user-scalable=no" />
  <title>추천 주유소</title>

  <!-- fullpage.js CDN -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fullPage.js/4.0.20/fullpage.min.css" />
  <link rel="stylesheet" href="/main.css" />
  <script defer src="../carinfo.js"></script>
</head>
<body>

  <div class="mobile-frame">
    <div id="fullpage">
     <!-- 1. 첫 화면 - 차량 정보 -->
      <div class="section">
        <div class="wrapper dashboard">
            <!-- 상단 바 -->
            <div class="top-bar">
                <!-- 상단바 왼쪽 아이콘 -->
                <div class="left">
                    <button class="menu-btn">
                        <img src="/icon/menu.png"/>
                    </button>
                </div>
                
                <!-- 상단바 중앙 로고 부분-->
                <div class="center-logo">
                    <img src="/icon/charbob_logo.png" />
                </div>

                <!-- 상단바 오른쪽 아이콘 -->
                <div class="right">
                    <button id="carIconBtn" class="car_info-btn">
                        <img src="/icon/car-side.png"/>
                    </button>
                    <button class="mypage-btn">
                        <img src="/icon/user.png"/>
                    </button>
                </div>
            </div>

            <!-- 첫페이지 본문 -->
            <div class="car-summary">
                <h3>
                    송현우님의 차량
                </h3>
                <!-- <br/>
                <h2>
                    <img src="/icon/car.png" class="car-icon"/>
                    아반떼 (2024)
                </h2> -->
                <div class="car-header" id="carHeader">
                  <img id="carImage" src="/icon/그랜저1.jpg" alt="차 이미지" />
                  <div class="car-header-info">
                    <h2 id="carModel">2024 그랜저</h2>
                    <p id="carFuel">가솔린</p>
                    <p id="carEfficiency">11km/L</p>
                  </div>
                </div>
            </div>

      <!-- 차량 정보 입력 모달 -->
      <div id="carModal">
        <div class="modal-content">
          <h3>차량 정보 입력</h3>
          <img id="modalCarImage" src="" alt="차 이미지" />
          <select id="modalCar">
            <option value="" disabled selected>차종 선택</option>
            <option value="avante">2024 아반떼</option>
            <option value="sorento">2024 쏘렌토</option>
            <option value="grandeur">2024 그랜저</option>
          </select>
          <select id="modalFuel">
            <option value="" disabled selected>유종 선택</option>
            <option value="가솔린">가솔린</option>
            <option value="디젤">디젤</option>
          </select>
          <div class="unit-group">
            <input type="number" id="modalEfficiency" placeholder="연비 입력" />
            <span>km/L</span>
          </div>
          <button onclick="saveCarInfo()">저장</button>
          <button onclick="closeModal()">닫기</button>
        </div>
      </div> 
         
      <div class="nav-buttons">
        <button onclick="fullpage_api.moveTo(2)">
            <img src="/icon/gas-pump.png" class="nav-icon"/>
            최저가 보기
        </button>
        <button onclick="fullpage_api.moveTo(3)">
            <img src="/icon/location.png" class="nav-icon"/>
            근처 최저가
        </button>
        <button onclick="fullpage_api.moveTo(4)">
            <img src="/icon/calendar.png" class="nav-icon"/>
             차계부
        </button>
      </div>
    </div>
  </div>

    <div class="section">
      <div class="wrapper">
        <h2>⛽ 추천 주유소</h2>
        <p>광주광역시 북구 근처</p>
        <ul>
          <li>1. A 셀프주유소 – 1,490원</li>
          <li>2. B GS칼텍스 – 1,520원</li>
          <li>3. C SK에너지 – 1,540원</li>
        </ul>
      </div>
    </div>


      <div class="section">
         <div class="map_wrap">
            <h2>📍 내 위치 근처 주유소</h2>
            <p>현재 위치를 기반으로 주변 주유소를 찾습니다.</p>
            
            <!-- 지도 div -->
            <div id="map" style="width: 100%; height: 500px;"></div>
          </div>
        </div>


        <!-- 섹션 4 차계부-->
        <div class="section">
            <div class="wrapper">
            <h2>⛽ 차계부</h2>
            <p>차계부 입력</p>
            </div>
            <!-- 🔼 위로 이동 버튼 -->
            <button class="scroll-up" onclick="fullpage_api.moveTo(1)">▲</button>
        </div>

    </div>
  </div>

  <!-- fullpage.js script -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/fullPage.js/4.0.20/fullpage.min.js"></script>
  <script>
    new fullpage('#fullpage', {
      autoScrolling: true,
      navigation: true,
      scrollHorizontally: false,
      licenseKey: 'gplv3-license',
    });
  </script>
  <script src="https://dapi.kakao.com/v2/maps/sdk.js?appkey=e6dfab2f13622dce81330992b5eff90a&libraries=services"></script>
  <script src="/map.js"></script>

  <!-- 지도 / 페이지 스크롤 분리 -->
  <script>
    const mapContainer = document.getElementById('map');

    mapContainer.addEventListener('mouseenter', () => {
    fullpage_api.setAutoScrolling(false);
    });

    mapContainer.addEventListener('mouseleave', () => {
    fullpage_api.setAutoScrolling(true);
    });
  </script>
</body>
</html>
